time="2025-10-23T14:42:38-04:00" level=warning msg="The \"TAILSCALE_AUTH_KEY\" variable is not set. Defaulting to a blank string."
============================= test session starts ==============================
platform linux -- Python 3.13.9, pytest-8.4.2, pluggy-1.6.0 -- /usr/local/bin/python
cachedir: .pytest_cache
django: version: 5.2.7, settings: web.django.settings (from env)
rootdir: /app
plugins: asyncio-1.2.0, mock-3.15.1, cov-7.0.0, django-4.11.1, Faker-37.11.0, anyio-4.11.0, langsmith-0.3.45
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 193 items / 9 errors

==================================== ERRORS ====================================
____________ ERROR collecting tests/unit/test_core/test_database.py ____________
ImportError while importing test module '/app/tests/unit/test_core/test_database.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/local/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/test_core/test_database.py:10: in <module>
    from core.database.models import Base, Account, Position, Trade, BalanceHistory, Strategy
E   ImportError: cannot import name 'Strategy' from 'core.database.models' (/app/core/database/models.py)
------------------------------- Captured stderr --------------------------------
2025-10-23 18:42:48.942 | DEBUG    | framework.config.providers:register:452 - Registered configuration provider: FileProvider
2025-10-23 18:42:48.942 | DEBUG    | framework.config.providers:register:452 - Registered configuration provider: EnvironmentProvider
2025-10-23 18:42:48.942 | DEBUG    | framework.config.providers:register:452 - Registered configuration provider: URLProvider
___________ ERROR collecting tests/unit/test_core/test_rag_system.py ___________
E   TypeError: unsupported operand type(s) for |: 'sessionmaker' and 'NoneType'
________ ERROR collecting tests/unit/test_rag/test_embeddings_mocked.py ________
E   TypeError: unsupported operand type(s) for |: 'sessionmaker' and 'NoneType'
_______ ERROR collecting tests/unit/test_rag/test_intelligence_mocked.py _______
E   TypeError: unsupported operand type(s) for |: 'sessionmaker' and 'NoneType'
__________ ERROR collecting tests/unit/test_rag/test_orchestrator.py ___________
E   TypeError: unsupported operand type(s) for |: 'sessionmaker' and 'NoneType'
___________ ERROR collecting tests/unit/test_trading/test_assets.py ____________
ImportError while importing test module '/app/tests/unit/test_trading/test_assets.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/local/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/test_trading/test_assets.py:10: in <module>
    from core.database.models import (
E   ImportError: cannot import name 'TradingAsset' from 'core.database.models' (/app/core/database/models.py)
____ ERROR collecting tests/unit/test_trading/test_binance_rate_limiting.py ____
ImportError while importing test module '/app/tests/unit/test_trading/test_binance_rate_limiting.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/local/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/test_trading/test_binance_rate_limiting.py:7: in <module>
    from data.adapters.binance import BinanceAdapter
data/__init__.py:8: in <module>
    from .adapters import get_adapter  # noqa: F401
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
data/adapters/__init__.py:8: in <module>
    from .binance import BinanceAdapter
data/adapters/binance.py:12: in <module>
    from framework.middleware.circuit_breaker import CircuitBreaker
E   ModuleNotFoundError: No module named 'framework.middleware'; 'framework' is not a package
__________ ERROR collecting tests/unit/test_trading/test_optimizer.py __________
ImportError while importing test module '/app/tests/unit/test_trading/test_optimizer.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/local/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/test_trading/test_optimizer.py:21: in <module>
    from trading.optimizer import objective, run_optimization, custom_objective
E   ImportError: cannot import name 'run_optimization' from 'trading.optimizer' (/app/trading/optimizer/__init__.py)
____________ ERROR collecting tests/unit/test_trading/test_tasks.py ____________
ImportError while importing test module '/app/tests/unit/test_trading/test_tasks.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/local/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/test_trading/test_tasks.py:12: in <module>
    from trading.tasks import (
trading/tasks.py:31: in <module>
    from data.adapters.binance import BinanceAdapter
data/__init__.py:8: in <module>
    from .adapters import get_adapter  # noqa: F401
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
data/adapters/__init__.py:8: in <module>
    from .binance import BinanceAdapter
data/adapters/binance.py:12: in <module>
    from framework.middleware.circuit_breaker import CircuitBreaker
E   ModuleNotFoundError: No module named 'framework.middleware'; 'framework' is not a package
=============================== warnings summary ===============================
core/database/models.py:28
  /app/core/database/models.py:28: MovedIn20Warning: The ``declarative_base()`` function is now available as sqlalchemy.orm.declarative_base(). (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    Base = declarative_base()

tests/unit/test_core/test_database_utils.py:11
  /app/tests/unit/test_core/test_database_utils.py:11: PytestUnknownMarkWarning: Unknown pytest.mark.unit - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.unit

tests/unit/test_core/test_database_utils.py:12
  /app/tests/unit/test_core/test_database_utils.py:12: PytestUnknownMarkWarning: Unknown pytest.mark.data - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.data

tests/unit/test_core/test_database_utils.py:66
  /app/tests/unit/test_core/test_database_utils.py:66: PytestUnknownMarkWarning: Unknown pytest.mark.unit - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.unit

tests/unit/test_core/test_database_utils.py:67
  /app/tests/unit/test_core/test_database_utils.py:67: PytestUnknownMarkWarning: Unknown pytest.mark.data - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.data

tests/unit/test_core/test_database_utils.py:101
  /app/tests/unit/test_core/test_database_utils.py:101: PytestUnknownMarkWarning: Unknown pytest.mark.unit - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.unit

tests/unit/test_core/test_database_utils.py:102
  /app/tests/unit/test_core/test_database_utils.py:102: PytestUnknownMarkWarning: Unknown pytest.mark.data - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.data

tests/unit/test_core/test_database_utils.py:175
  /app/tests/unit/test_core/test_database_utils.py:175: PytestUnknownMarkWarning: Unknown pytest.mark.unit - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.unit

tests/unit/test_core/test_database_utils.py:176
  /app/tests/unit/test_core/test_database_utils.py:176: PytestUnknownMarkWarning: Unknown pytest.mark.data - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.data

tests/unit/test_core/test_database_utils.py:232
  /app/tests/unit/test_core/test_database_utils.py:232: PytestUnknownMarkWarning: Unknown pytest.mark.unit - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.unit

tests/unit/test_core/test_database_utils.py:233
  /app/tests/unit/test_core/test_database_utils.py:233: PytestUnknownMarkWarning: Unknown pytest.mark.data - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.data

tests/unit/test_core/test_database_utils.py:292
  /app/tests/unit/test_core/test_database_utils.py:292: PytestUnknownMarkWarning: Unknown pytest.mark.unit - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.unit

tests/unit/test_core/test_database_utils.py:293
  /app/tests/unit/test_core/test_database_utils.py:293: PytestUnknownMarkWarning: Unknown pytest.mark.data - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.data

tests/unit/test_core/test_database_utils.py:340
  /app/tests/unit/test_core/test_database_utils.py:340: PytestUnknownMarkWarning: Unknown pytest.mark.unit - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.unit

tests/unit/test_core/test_database_utils.py:341
  /app/tests/unit/test_core/test_database_utils.py:341: PytestUnknownMarkWarning: Unknown pytest.mark.data - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.data

tests/unit/test_core/test_ml_models.py:162
  /app/tests/unit/test_core/test_ml_models.py:162: PytestUnknownMarkWarning: Unknown pytest.mark.slow - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.slow

tests/unit/test_core/test_ml_models.py:277
  /app/tests/unit/test_core/test_ml_models.py:277: PytestUnknownMarkWarning: Unknown pytest.mark.slow - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.slow

tests/unit/test_core/test_ml_models.py:350
  /app/tests/unit/test_core/test_ml_models.py:350: PytestUnknownMarkWarning: Unknown pytest.mark.slow - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.slow

tests/unit/test_security.py:186
  /app/tests/unit/test_security.py:186: PytestUnknownMarkWarning: Unknown pytest.mark.integration - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integration

tests/unit/test_trading/test_strategies.py:47
  /app/tests/unit/test_trading/test_strategies.py:47: PytestUnknownMarkWarning: Unknown pytest.mark.unit - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.unit

tests/unit/test_trading/test_strategies.py:48
  /app/tests/unit/test_trading/test_strategies.py:48: PytestUnknownMarkWarning: Unknown pytest.mark.trading - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.trading

tests/unit/test_trading/test_strategies.py:203
  /app/tests/unit/test_trading/test_strategies.py:203: PytestUnknownMarkWarning: Unknown pytest.mark.unit - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.unit

tests/unit/test_trading/test_strategies.py:204
  /app/tests/unit/test_trading/test_strategies.py:204: PytestUnknownMarkWarning: Unknown pytest.mark.trading - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.trading

tests/unit/test_trading/test_strategies.py:249
  /app/tests/unit/test_trading/test_strategies.py:249: PytestUnknownMarkWarning: Unknown pytest.mark.unit - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.unit

tests/unit/test_trading/test_strategies.py:250
  /app/tests/unit/test_trading/test_strategies.py:250: PytestUnknownMarkWarning: Unknown pytest.mark.trading - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.trading

tests/unit/test_trading/test_strategies.py:277
  /app/tests/unit/test_trading/test_strategies.py:277: PytestUnknownMarkWarning: Unknown pytest.mark.unit - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.unit

tests/unit/test_trading/test_strategies.py:278
  /app/tests/unit/test_trading/test_strategies.py:278: PytestUnknownMarkWarning: Unknown pytest.mark.trading - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.trading

tests/unit/test_trading/test_strategies.py:295
  /app/tests/unit/test_trading/test_strategies.py:295: PytestUnknownMarkWarning: Unknown pytest.mark.unit - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.unit

tests/unit/test_trading/test_strategies.py:296
  /app/tests/unit/test_trading/test_strategies.py:296: PytestUnknownMarkWarning: Unknown pytest.mark.trading - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.trading

tests/unit/test_trading/test_strategies.py:327
  /app/tests/unit/test_trading/test_strategies.py:327: PytestUnknownMarkWarning: Unknown pytest.mark.unit - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.unit

tests/unit/test_trading/test_strategies.py:328
  /app/tests/unit/test_trading/test_strategies.py:328: PytestUnknownMarkWarning: Unknown pytest.mark.trading - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.trading

tests/unit/test_web_views.py:25
  /app/tests/unit/test_web_views.py:25: PytestUnknownMarkWarning: Unknown pytest.mark.web - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.web

tests/unit/test_web_views.py:178
  /app/tests/unit/test_web_views.py:178: PytestUnknownMarkWarning: Unknown pytest.mark.web - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.web

tests/unit/test_web_views.py:179
  /app/tests/unit/test_web_views.py:179: PytestUnknownMarkWarning: Unknown pytest.mark.integration - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integration

tests/unit/test_web_views.py:233
  /app/tests/unit/test_web_views.py:233: PytestUnknownMarkWarning: Unknown pytest.mark.web - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.web

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
ERROR tests/unit/test_core/test_database.py
ERROR tests/unit/test_core/test_rag_system.py - TypeError: unsupported operan...
ERROR tests/unit/test_rag/test_embeddings_mocked.py - TypeError: unsupported ...
ERROR tests/unit/test_rag/test_intelligence_mocked.py - TypeError: unsupporte...
ERROR tests/unit/test_rag/test_orchestrator.py - TypeError: unsupported opera...
ERROR tests/unit/test_trading/test_assets.py
ERROR tests/unit/test_trading/test_binance_rate_limiting.py
ERROR tests/unit/test_trading/test_optimizer.py
ERROR tests/unit/test_trading/test_tasks.py
!!!!!!!!!!!!!!!!!!! Interrupted: 9 errors during collection !!!!!!!!!!!!!!!!!!!!
======================= 35 warnings, 9 errors in 11.81s ========================
