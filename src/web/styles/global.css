@tailwind base;
@tailwind components;
@tailwind utilities;

/* Migrated from former index.css */
@layer base {
	:root {
		--primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
		--secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
		--success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
		--warning-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
		--dark-gradient: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
		--card-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
		--card-hover-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
		--border-radius: 16px;
		--transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		--nav-height: 4.5rem; /* centralized nav height */
	}

	html { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; scroll-behavior: smooth; }

		body,
		[data-theme="trading"] body {
			color:#fff; font-family:Inter,system-ui,sans-serif; line-height:1.625;
		min-height: 100vh;
		background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
		background-attachment: fixed;
	}

	[data-theme="light"] body {
		background:linear-gradient(to bottom right,#f9fafb,#e5e7eb); color:#111827; font-family:Inter,system-ui,sans-serif; line-height:1.625;
		min-height: 100vh;
		background-attachment: fixed;
	}

	[data-theme="dark"] body {
		background:#111827; color:#fff; font-family:Inter,system-ui,sans-serif; line-height:1.625;
		min-height: 100vh;
		background-attachment: fixed;
	}

	::-webkit-scrollbar { width: 8px; }
	::-webkit-scrollbar-track { background:rgba(255,255,255,0.1); }
	::-webkit-scrollbar-thumb { background:rgba(255,255,255,0.3); border-radius:9999px; }
	::-webkit-scrollbar-thumb:hover { background:rgba(255,255,255,0.5); }

	[data-theme="light"] ::-webkit-scrollbar-track { background:rgba(209,213,219,0.5); }
	[data-theme="light"] ::-webkit-scrollbar-thumb { background:rgba(75,85,99,0.5); border-radius:9999px; }
	[data-theme="light"] ::-webkit-scrollbar-thumb:hover { background:rgba(75,85,99,0.7); }
}

@layer components {
	.glass-card {
		/* Refined glass style: lighter opacity + subtle inner highlight */
		position:relative;
		border:1px solid rgba(120,130,150,0.35); transition:all .35s cubic-bezier(.4,0,.2,1);
		backdrop-filter: blur(24px) saturate(140%);
		-webkit-backdrop-filter: blur(24px) saturate(140%);
		border-radius: 16px;
		box-shadow:
			0 4px 10px -2px rgba(0,0,0,0.4),
			0 8px 32px -4px rgba(0,0,0,0.35),
			inset 0 0 0 1px rgba(255,255,255,0.04);
		background: linear-gradient(
			135deg,
			rgba(24,32,48,0.55) 0%,
			rgba(16,22,38,0.65) 40%,
			rgba(12,18,34,0.72) 100%
		);
		color: #fff;
		/* Decorative faint glow ring */
		--glow: 0 0 0 0 rgba(99,102,241,0.35);
	}
	.glass-card:before {
		content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
		background: radial-gradient(circle at 25% 15%,rgba(255,255,255,0.12),transparent 55%);
		mix-blend-mode:overlay; opacity:.6;
	}
	.glass-card:after {
		content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
		box-shadow:var(--glow); opacity:0; transition:opacity .4s;
	}
	.glass-card:hover {
		transform:translateY(-4px); box-shadow:
			0 6px 14px -4px rgba(0,0,0,0.5),
			0 12px 42px -6px rgba(0,0,0,0.55),
			inset 0 0 0 1px rgba(255,255,255,0.06);
	}
	.glass-card:hover:after { opacity:1; }
	@supports not ((backdrop-filter:blur(2px))) {
		.glass-card { background:#1f2937; } /* Fallback solid if no backdrop support */
	}
	[data-theme="light"] .glass-card {
		background: linear-gradient(135deg,rgba(255,255,255,0.92) 0%,rgba(245,247,250,0.96) 100%);
		border-color: rgba(209, 213, 219, 0.55);
		color: #1f2937;
		box-shadow: 0 4px 12px -2px rgba(0,0,0,0.08), 0 8px 32px -6px rgba(0,0,0,0.06), inset 0 0 0 1px rgba(255,255,255,0.6);
	}
	[data-theme="dark"] .glass-card {
		background: linear-gradient(135deg,rgba(31,41,55,0.60) 0%,rgba(17,27,43,0.72) 100%);
		border-color: rgba(71,85,105,0.55);
	}
	[data-theme="trading"] .glass-card { background: linear-gradient(135deg,rgba(26,34,58,0.55),rgba(13,20,36,0.70)); }
	[data-theme="light"] .glass-card:hover { box-shadow:0 8px 24px -6px rgba(0,0,0,0.18), 0 16px 48px -10px rgba(0,0,0,0.12), inset 0 0 0 1px rgba(255,255,255,0.8); }

	.glass-card-dark { border:1px solid rgba(75,85,99,0.3); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-radius: 16px; box-shadow: 0 8px 32px rgba(0,0,0,0.1); background: rgba(31,41,55,0.9); }
	.glass-card-light { border:1px solid rgba(229,231,235,0.5); color:#111827; backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-radius: 16px; background: rgba(255, 255, 255, 0.95); box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.8), 0 0 0 1px rgba(0, 0, 0, 0.05); }
	.glass-card-light:hover { transform:translateY(-0.25rem); box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.9), 0 0 0 1px rgba(0, 0, 0, 0.1); }

	.btn-primary { background: var(--primary-gradient); font-weight:600; padding:0.75rem 1.5rem; border-radius:9999px; color:#fff; transition:all .3s; }
	.btn-primary:hover { box-shadow:0 0 20px rgba(102,126,234,0.4),0 8px 32px rgba(0,0,0,0.2); transform:translateY(-0.25rem) scale(1.05); }
	.btn-secondary { background:rgba(255,255,255,0.2); backdrop-filter:blur(4px); -webkit-backdrop-filter:blur(4px); font-weight:600; padding:0.75rem 1.5rem; border-radius:9999px; border:1px solid rgba(255,255,255,0.3); color:#fff; transition:all .3s; }
	.btn-secondary:hover { background:rgba(255,255,255,0.3); transform:scale(1.05); }
	.btn-success { background: var(--success-gradient); font-weight:600; padding:0.75rem 1.5rem; border-radius:9999px; color:#fff; transition:all .3s; }
	.btn-success:hover { box-shadow:0 0 20px rgba(34,197,94,0.4),0 8px 32px rgba(0,0,0,0.2); transform:translateY(-0.25rem) scale(1.05); }
	.btn-danger { background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%); font-weight:600; padding:0.75rem 1.5rem; border-radius:9999px; color:#fff; transition:all .3s; }
	.btn-danger:hover { box-shadow:0 0 20px rgba(239,68,68,0.4),0 8px 32px rgba(0,0,0,0.2); transform:translateY(-0.25rem) scale(1.05); }
	.btn-warning { background: var(--warning-gradient); font-weight:600; padding:0.75rem 1.5rem; border-radius:9999px; color:#fff; transition:all .3s; }
	.btn-warning:hover { box-shadow:0 0 20px rgba(67,233,123,0.4),0 8px 32px rgba(0,0,0,0.2); transform:translateY(-0.25rem) scale(1.05); }

	.bg-gradient-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
	.bg-gradient-secondary { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
	.bg-gradient-success { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
	.bg-gradient-warning { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }

	.btn-icon { padding:.75rem; border-radius:9999px; background:rgba(255,255,255,0.2); border:1px solid rgba(255,255,255,0.3); backdrop-filter:blur(4px); transition:all .3s; }
	.btn-icon:hover { background:rgba(255,255,255,0.3); transform:scale(1.1); }
	.status-bull { color:#4ade80; background:rgba(34,197,94,0.2); border:1px solid rgba(34,197,94,0.3); border-radius:9999px; padding:.25rem .75rem; font-weight:600; }
	.status-bear { color:#f87171; background:rgba(239,68,68,0.2); border:1px solid rgba(239,68,68,0.3); border-radius:9999px; padding:.25rem .75rem; font-weight:600; }
	.status-neutral { color:#facc15; background:rgba(234,179,8,0.2); border:1px solid rgba(234,179,8,0.3); border-radius:9999px; padding:.25rem .75rem; font-weight:600; }
	.input-glass { width:100%; padding:0.75rem 1rem; background:rgba(255,255,255,0.2); backdrop-filter:blur(4px); -webkit-backdrop-filter:blur(4px); border:1px solid rgba(255,255,255,0.3); border-radius:9999px; color:#fff; transition:all .3s; }
	.input-glass::placeholder { color:rgba(255,255,255,0.7); }
	.input-glass:focus { outline:none; border-color:rgba(255,255,255,0.5); background:rgba(255,255,255,0.3); }
	.tab-button { padding:0.75rem 1.5rem; font-weight:600; border-radius:9999px; transition:all .3s; position:relative; overflow:hidden; }
	.tab-button.active { background:rgba(255,255,255,0.2); backdrop-filter:blur(4px); -webkit-backdrop-filter:blur(4px); box-shadow:0 10px 15px -3px rgba(0,0,0,0.3),0 4px 6px -4px rgba(0,0,0,0.3); color:#fff; }
	.tab-button:not(.active) { color:rgba(255,255,255,0.7); }
	.tab-button:not(.active):hover { color:#fff; background:rgba(255,255,255,0.1); }
	.animated-card { position:relative; overflow:hidden; }
	.animated-card::before { content: ''; position:absolute; inset:0; background:linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.05) 50%, rgba(255,255,255,0) 100%); transform:skewX(-12deg) translateX(-100%); animation: shimmer 2s infinite; }
	@keyframes shimmer { 0% { transform: translateX(-100%) skewX(-12deg); } 100% { transform: translateX(200%) skewX(-12deg); } }
	.log-entry { padding:.75rem; border-radius:.5rem; margin-bottom:.5rem; border-left:4px solid rgba(255,255,255,0.15); background:rgba(255,255,255,0.1); backdrop-filter:blur(6px); }
	.log-entry.info { border-left-color:#60a5fa; background:rgba(59,130,246,0.1); }
	.log-entry.success { border-left-color:#4ade80; background:rgba(34,197,94,0.1); }
	.log-entry.warning { border-left-color:#facc15; background:rgba(234,179,8,0.1); }
	.log-entry.error { border-left-color:#f87171; background:rgba(239,68,68,0.1); }
	.pulse-status { animation:pulse 3s ease-in-out infinite; }
	.float-animation { animation: float 6s ease-in-out infinite; }
	.spinner { width:1.5rem; height:1.5rem; border:2px solid rgba(255,255,255,0.3); border-top-color:#fff; border-radius:9999px; animation:spin 1s linear infinite; }
	.gradient-text { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
	.card-grid { display:grid; gap:1.5rem; grid-template-columns:repeat(1,minmax(0,1fr)); }
	@media (min-width:768px){ .card-grid { grid-template-columns:repeat(2,minmax(0,1fr)); } }
	@media (min-width:1024px){ .card-grid { grid-template-columns:repeat(3,minmax(0,1fr)); } }
	.card-grid-large { display:grid; gap:2rem; grid-template-columns:repeat(1,minmax(0,1fr)); }
	@media (min-width:1024px){ .card-grid-large { grid-template-columns:repeat(2,minmax(0,1fr)); } }
	.stats-card { padding:1.5rem; text-align:center; transition:all .3s; transform:translateZ(0); }
	.stats-card:hover { transform:scale(1.05); }
	.stats-number { font-size:1.875rem; line-height:2.25rem; font-weight:700; margin-bottom:0.5rem; }
	.stats-label { font-size:.875rem; line-height:1.25rem; color:#4b5563; text-transform:uppercase; letter-spacing:.05em; }
	.progress-bar { width:100%; background:rgba(255,255,255,0.2); border-radius:9999px; height:.5rem; overflow:hidden; }
	.progress-fill { height:100%; background:linear-gradient(90deg,#818cf8,#9333ea); transition:all .3s ease-out; }
	.notification { padding:1rem; border-radius:.5rem; border-left:4px solid rgba(255,255,255,0.2); animation:slide-up .4s ease; position:relative; }
	.notification.success { border-left-color:#4ade80; background:rgba(34,197,94,0.1); }
	.notification.error { border-left-color:#f87171; background:rgba(239,68,68,0.1); }
	.notification.warning { border-left-color:#facc15; background:rgba(234,179,8,0.1); }

	/* Layout shell helper: slightly tighter top spacing on small screens, relaxed on md+ */
	.app-shell { padding-top: calc(var(--nav-height) + 0.5rem); }
	@media (min-width:768px){ .app-shell { padding-top: calc(var(--nav-height) + 1rem); } }

	/* Adaptive stat grid: auto-fit columns preventing awkward 2-col on wide screens */
	.stats-grid { display:grid; gap:.85rem; grid-auto-flow:row dense; grid-template-columns:repeat(auto-fit,minmax(180px,240px)); justify-content:start; }
	@media (min-width:640px){ .stats-grid { gap:.95rem; } }
	@media (min-width:880px){ .stats-grid { gap:1rem; } }
	@media (min-width:1024px){ .stats-grid { gap:1.05rem; } }
	.stats-grid .stat-tile { width:100%; }

	/* Density toggle animation */
	.density-animated { transition: padding .25s ease, gap .25s ease, font-size .25s ease; }

	/* LazyReveal animations */
	.lazy-reveal { opacity:0; transform: translateY(8px); transition: opacity .5s ease, transform .5s ease; }
	.lazy-reveal.lazy-visible { opacity:1; transform: translateY(0); }
	.skeleton-pulse { position:relative; overflow:hidden; background:rgba(255,255,255,0.08); border:1px solid rgba(255,255,255,0.12); border-radius:16px; }
	.skeleton-pulse:before { content:""; position:absolute; inset:0; background:linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0) 100%); animation: shimmer 1.8s infinite; }

	/* Reduced motion preference */
	@media (prefers-reduced-motion: reduce) {
		.lazy-reveal { transition:none; transform:none !important; opacity:1 !important; }
		.density-animated { transition:none; }
		.skeleton-pulse:before { animation:none; }
	}

	/* Hide scrollbar for horizontal nav scroller */
	.no-scrollbar { scrollbar-width:none; -ms-overflow-style:none; }
	.no-scrollbar::-webkit-scrollbar { display:none; }

	/* Support an xs breakpoint (used in HomePage) */
	@media (min-width:480px){ .xs\:block { display:block !important; } }

	/* Reusable compact stat tile (avoids @apply for compatibility in validation context) */
	.stat-tile { position:relative; border:1px solid rgba(120,130,150,0.35); backdrop-filter:blur(24px) saturate(140%); -webkit-backdrop-filter:blur(24px) saturate(140%); border-radius:16px; box-shadow:0 4px 10px -2px rgba(0,0,0,0.4),0 8px 32px -4px rgba(0,0,0,0.35),inset 0 0 0 1px rgba(255,255,255,0.04); background:linear-gradient(135deg,rgba(24,32,48,0.55) 0%,rgba(16,22,38,0.65) 40%,rgba(12,18,34,0.72) 100%); color:#fff; padding:1rem; display:flex; flex-direction:column; gap:.25rem; }
	@media (min-width:768px){ .stat-tile { padding:1.25rem; } }
	.stat-tile .stat-label { font-size:11px; font-weight:500; letter-spacing:.08em; text-transform:uppercase; color:rgba(255,255,255,0.6); }
	.stat-tile .stat-value { font-size:1.25rem; line-height:1.6rem; font-weight:700; font-family:JetBrains Mono,Consolas,monospace; color:#fff; }
	@media (min-width:768px){ .stat-tile .stat-value { font-size:1.5rem; line-height:1.9rem; } }
}

@layer utilities {
	.backdrop-blur-glass { backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); }
	.backdrop-blur-sm { backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }
	.shadow-glass { box-shadow: 0 8px 32px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1), 0 0 0 1px rgba(255,255,255,0.05); }
	.shadow-glass-hover { box-shadow: 0 12px 40px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.15), 0 0 0 1px rgba(255,255,255,0.1); }
	.rounded-glass { border-radius: 16px; }
	.shadow-glow { box-shadow: 0 0 20px rgba(102,126,234,0.4), 0 8px 32px rgba(0,0,0,0.2); }
	.shadow-glow-success { box-shadow: 0 0 20px rgba(34,197,94,0.4), 0 8px 32px rgba(0,0,0,0.2); }
	.shadow-glow-danger { box-shadow: 0 0 20px rgba(239,68,68,0.4), 0 8px 32px rgba(0,0,0,0.2); }
	.notification.info { border-left:4px solid #60a5fa; background:rgba(59,130,246,0.1); }
	/* Density adjustments */
	[data-density='compact'] .glass-card { padding:1rem !important; }
	[data-density='compact'] .grid { gap:1rem !important; }
	[data-density='compact'] .p-6 { padding:1.25rem !important; }
	[data-density='compact'] .p-4 { padding:0.9rem !important; }
	[data-density='compact'] .text-4xl { font-size:2rem !important; }
	[data-density='compact'] .text-2xl { font-size:1.375rem !important; }
}
